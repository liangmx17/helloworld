# 整体计划和要实现的内容
整体上先仿照作家助手，要有大纲、角色、设定等功能，同时还有章节列表、管理、新建角色、新建设定、新建伏笔等等。

然后优点在于更加纯净，方便git同步，以及知识卡片体系，同时还可以后续扩展为自身知识图谱或者类似软件，在实现的同时可以锻炼编程能力和项目能力，学习typescript和vsc-extension。

## 需要实现的功能

### 实现文件结构和管理

要包含许多卡片信息，这些信息被存放在.开头的隐藏文件夹中，包括人物、场景设定等，这些东西需要好好存放
还要实现侧边栏的设定，复杂

文件结构如下所示，other可以用来存放各种小想法和难以归类的奇思妙想。novel-setting用来存放一些小说的基本信息，包括章节、人物出场频次等等。
.a
├── character.md
├── other.md
├── plot.md
└── scene.md
.novel-setting
chapter0001.nov
chapter0002.nov

文件（包括正文和外围文件）的后缀名.nov（基本确认这个后缀名没有人用），作为markdown的增强格式（虽然也还没有想好增强什么方面），意思是novel，然后设定的内部要有许多结构，tag，这一块要和跳转定义、高亮等等结合在一起.

正文这块也可以考虑markdown格式，然后要有导出的功能，方便后续导入，甚至可以调用一个生成pdf的模块

知识卡片通过markdown格式记录，然后用markdown渲染展示

### 写文章时候的状况

最好是连续书写，就是每一章开头都会显示上一章结尾，但这样可能会有一个很长的内容，比较合适的解决方案是每一卷分卷为一个文档，然后加载到编辑器内部。同时导出的时候检查已导出的文件，不导出已存在的文档。


### 汉字中文本检测以及后续的定义、跳转、高亮等等

目前的想法还是读取整个文件然后进行分析，去做关键词匹配后调用跳转到定义函数，函数看了一下还不太清楚是否能够在连续文本中做到。
感觉跟语法高亮和自动跳转不好衔接，因为汉字没有空格将字符独立出来，需要在连续文本中识别。

### 实现文本内的检查
识别人名，然后统计出场次数，上次章节等等。

### 大纲等等内容同样放在侧边拦
大纲、小纲等等

### 进展估计
4000字的进展，同时只限于正文。

### ai评价
加上一个ai接口来评价我的文章，可以调用天工api，chatgpt api，具体看情况。相关ai

### 知识卡片的管理和生成
在已经编写好的知识卡片信息基础上自动生成png来输出知识卡片，这一块可以参考markdown扩展的png生成。

### pdf和txt格式输出

txt要符合作家助手读取的格式，可以自己纯手写方便后续修改，pdf这一块也可以参考markdown扩展的pdf生成。

### 日记？
按照目前的设想改成日记插件也很容易，但是问题在于原生vscode对插图支持不够友好，使用webviewer编辑感觉也不如直接用日记软件，可能之后会思考如何协调吧